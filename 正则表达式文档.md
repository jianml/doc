# 正则表达式文档

#### 元字符

| 字符   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| *      | 匹配前面的子表达式零次或多次                                 |
| +      | 匹配前面的子表达式一次或多次                                 |
| ?      | 匹配前面的子表达式零次或一次                                 |
| .      | 匹配除换行符 \n 之外的任何单字符                             |
| ^      | 匹配输入字符串的开始位置，\n除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。 |
| $      | 匹配输入字符串的结尾位置                                     |
| \|     | 指明两项之间的一个选择，字符具有高于替换运算符的优先级，使得"m\|food"匹配"m"或"food"。若要匹配"mood"或"food"，请使用括号创建子表达式，从而产生"(mf)ood |
| \d     | 匹配一个数字字符。等价于 [0-9]                               |
| \D     | 匹配一个非数字字符。等价于 `[^0-9]`                          |
| \s     | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v] |
| \S     | 匹配任何非空白字符。等价于 `[^ \f\n\r\t\v]`                  |
| \w     | 匹配字母、数字、下划线。等价于[A-Za-z0-9_]                   |
| \W     | 匹配非字母、数字、下划线。等价于 `[^A-Za-z0-9_]`             |
| x\|y   | 匹配 x 或 y。例如，'z\|food' 能匹配 "z" 或 "food"。'(z\|f)ood' 则匹配 "zood" 或 "food" |
| [^a-z] | 负值字符范围。匹配任何不在指定范围内的任意字符。例如，`[^a-z]` 可以匹配任何不在 'a' 到 'z' 范围内的任意字符 |

#### 常用表达式

```shell
# 匹配URL(域名)
https?://[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)*(:d+)?(/[a-zA-Z0-9-_]*)*(&[a-zA-Z0-9-_.=]+)*
# 匹配URL(IP)
https?://\d{1,3}(\.\d{1,3}){3}(:\d+)?(/[a-zA-Z0-9-_]*)*(&[a-zA-Z0-9-_.=]+)*
```



| 正则表达式  | 匹配内容                   |
| ----------- | -------------------------- |
| [a-zA-Z0-9] | 匹配英文字符和数字         |
| [^0-3]      | 匹配除了0到3之外的所有字符 |
|             |                            |
|             |                            |
|             |                            |
|             |                            |
|             |                            |
|             |                            |
|             |                            |

#### ()和[]的区别

- []表示匹配的字符在[]中，并且只能出现一次，并且特殊字符写在[]会被当成普通字符来匹配。例如[(a)]，会匹配(、a、)、这三个字符。

- ()内的内容表示的是一个子表达式，()本身不匹配任何东西，也不限制匹配任何东西，只是把括号内的内容作为同一个表达式来处理，例如(ab){1,3}，就表示ab一起连续出现最少1次，最多3次。如果没有括号的话，ab{1,3},就表示a，后面紧跟的b出现最少1次，最多3次。

#### 运算符优先级

相同优先级的从左到右进行运算，不同优先级的运算先高后低。下表从最高到最低说明了各种正则表达式运算符的优先级顺序：

| 运算符                      | 描述                                                         |
| :-------------------------- | :----------------------------------------------------------- |
| \                           | 转义符                                                       |
| (), (?:), (?=), []          | 圆括号和方括号                                               |
| *, +, ?, {n}, {n,}, {n,m}   | 限定符                                                       |
| ^, $, \任何元字符、任何字符 | 定位点和序列（即：位置和顺序）                               |
| \|                          | 替换，"或"操作 字符具有高于替换运算符的优先级，使得"m\|food"匹配"m"或"food"。若要匹配"mood"或"food"，请使用括号创建子表达式，从而产生"(m\|f)ood"。 |